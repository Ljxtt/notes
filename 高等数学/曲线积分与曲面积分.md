# 第一类曲线积分
对弧线的曲线积分：积分域为曲线 $L$，积分函数为标量函数 $f(x, y)$。微元为 $\mathop{}\!\mathrm{d} s$ 
$$
\int_{L}^{} f(x, y) \mathop{}\!\mathrm{d} s
$$

## 计算方法
计算第一类曲线积分可以按照以下步骤来思考：
1. 观察是否可以使用奇偶性（关于 $x$ 轴，$y$ 轴，直线 $y = x$ 对称）
2. 尝试代入曲面边界
3. 使用直角坐标或者参数方程转化为定积分
     
    令 $x = \varphi(t)$，$y = \psi(t)$，且 $a \le t \le b$ 则：
    $$
    \int_{L}^{} f(x, y) \mathop{}\!\mathrm{d} s = \int_{a}^{b} f \left[\varphi(t), \psi(t) \right] \sqrt{\varphi'^2(t) + \psi'^2(t)} \mathop{}\!\mathrm{d} t
    $$  
# 第二类曲线积分
积分域为有向曲线 $L$，积分函数为向量函数 $\vec{F}(x, y) = \left\{ P(x, y), Q(x, y)\right\}$，微元为 $\mathop{}\!\mathrm{d} \vec{s} = \left\{ \mathop{}\!\mathrm{d} x, \mathop{}\!\mathrm{d} y \right\}$ 

也就是：
$$
\int_{L}^{} \vec{F}(x, y) \cdot \mathop{}\!\mathrm{d} \vec{s} = \int_{L}^{} P(x, y)\mathop{}\!\mathrm{d} x + Q(x, y)\mathop{}\!\mathrm{d} y
$$
 
## 格林公式
设 $D$ 为 $xOy$ 平面上连通的有限闭区域，$L$ 为闭区域 $D$ 的正向边界，函数 $P(x, y), Q(x,y)$ 在 $D$ 上 **连续可偏导**，则
$$
\oint_{L}^{} P(x, y) \mathop{}\!\mathrm{d} x + Q(x, y) \mathop{}\!\mathrm{d} y = \iint_{D}^{} \frac{\partial Q}{\partial x} - \frac{\partial P}{\partial y} \mathop{}\!\mathrm{d} x \mathop{}\!\mathrm{d} y     
$$

曲线积分与路径无关的条件：

1. 曲线积分 $\displaystyle \int_{L}^{} P(x, y) \mathop{}\!\mathrm{d} x + Q(x, y) \mathop{}\!\mathrm{d} y$ 与路径无关
2. 对区域 $D$ 内任意闭曲线 $C$，有 $\displaystyle \oint_{C}^{} P(x, y) \mathop{}\!\mathrm{d} x + Q(x, y) \mathop{}\!\mathrm{d} y = 0$
    
   **Note**：是 $0$ 而非常数，为常数往往说明 $C$ 内包含有些点不是连续可偏导的
3. 区域 $D$ 内恒有 $\dfrac{\partial Q}{\partial x} = \dfrac{\partial P}{\partial y}$（柯西——黎曼条件）
4. 在区域 $D$ 内存在二元函数 $u(x, y)$，使得 $\mathop{}\!\mathrm{d} u(x, y) = P(x, y) \mathop{}\!\mathrm{d} x + Q(x, y) \mathop{}\!\mathrm{d} y$ 

经典应用：（挖空）

计算曲线积分 $\displaystyle \oint_L \dfrac{x \mathop{}\!\mathrm{d} y - y \mathop{}\!\mathrm{d} x}{x^2 + 4y^2}$，其中 $L$ 是不经过原点但原点在 $L$ 内的逆时针光滑闭曲线。    

作 $L_0$ 为 $x^2 + 4y^2 = r^2$（$r > 0$，且 $L_0$ 在 $L$ 内取逆时针）。则：
$$
\oint_L \dfrac{x \mathop{}\!\mathrm{d} y - y \mathop{}\!\mathrm{d} x}{x^2 + 4y^2} 

= \oint_{L + L^-_0} \dfrac{x \mathop{}\!\mathrm{d} y - y \mathop{}\!\mathrm{d} x}{x^2 + 4y^2}

+ \oint_{L_0} \dfrac{x \mathop{}\!\mathrm{d} y - y \mathop{}\!\mathrm{d} x}{x^2 + 4y^2}
$$
由格林公式有：
$$
\oint_{L + L^-_0} \dfrac{x \mathop{}\!\mathrm{d} y - y \mathop{}\!\mathrm{d} x}{x^2 + 4y^2} = \iint_{D_1} \frac{\partial Q}{\partial x} - \frac{\partial P}{\partial y} \mathop{}\!\mathrm{d} x \mathop{}\!\mathrm{d} y = 0
$$
代入 $L_0$ 有：
$$
\oint_{L_0} \dfrac{x \mathop{}\!\mathrm{d} y - y \mathop{}\!\mathrm{d} x}{x^2 + 4y^2} = \frac{1}{r^2} \oint_{L_0} x \mathop{}\!\mathrm{d} y - y \mathop{}\!\mathrm{d} x = \frac{2}{r^2} \iint_{D_2} \mathop{}\!\mathrm{d} \sigma = \frac{2}{r^2} \cdot \pi \cdot r \cdot \frac{r}{2} = \pi
$$
**Note**：作 $L_0$ 的关键是看 $L$ 的分母。从这题也可以看出若闭合曲线积分若恒为非零常数，那么这个非零常数往往是包含不是连续可偏导的点的区域贡献出来的。


与第一类曲线积分的关系：
$$
\int_{L}^{} P(x, y) \mathop{}\!\mathrm{d} x + Q(x, y) \mathop{}\!\mathrm{d} y = \int_{L}^{} \left[ P(x, y)\cos \alpha + Q(x, y) \cos \beta \right]  \mathop{}\!\mathrm{d} s 
$$


## 二维空间计算方法
### 定积分
设 $L: y = \varphi(x)$，其中起点对应 $x = a$，终点对应 $x = b$，则：
$$
\int_{L}^{} P(x, y) \mathop{}\!\mathrm{d} x + Q(x, y) \mathop{}\!\mathrm{d} y = \int_{a}^{b}  P(x) + Q(x)\varphi'(x) \mathop{}\!\mathrm{d} x 
$$
其中 $P(x) = P(x, \varphi(x)), Q(x) = Q(x, \varphi(x))$
## 三维空间计算方法
### 定积分
设 $L$ 的参数方程为：$x = \varphi(t), y = \psi(t), z = \omega(t)$，起点为 $t = a$，终点为 $t = b$，则有： 
$$
\begin{aligned}
& \int_{L} P\mathop{}\!\mathrm{d} x+Q \mathop{}\!\mathrm{d} y+R \mathop{}\!\mathrm{d} z 
=\int_{a}^{b}P(t) \varphi^{\prime}(t) 
+  Q(t) \psi^{\prime}(t)  
+  R(t) \omega^{\prime}(t)
 \mathop{}\!\mathrm{d} t
\end{aligned}
$$
其中 $P(t), Q(t), R(t)$ 为 $P, Q, R$ 中的参数 $x, y, z$ 用 $x = \varphi(t), y = \psi(t), z = \omega(t)$ 替换后的结果

### 斯托克斯公式（Stokes 公式）
设 $\Sigma$ 是有侧有限的光滑曲面，$L$ 为其边界，$\Sigma$ 的侧与 $L$ 的方向按右手准则确定，函数 $P(x, y, z),Q(x, y, z),R(x, y, z)$ 在有侧曲面 $\Sigma$ 上连续可偏导，则有： 
$$
\begin{aligned}
   \int_{L}^{} P(x, y, z) \mathop{}\!\mathrm{d} x + Q(x, y, z) \mathop{}\!\mathrm{d} y + R(x, y, z) \mathop{}\!\mathrm{d} z 
&= 
\iint_{\Sigma} 
\begin{vmatrix}
   \mathop{}\!\mathrm{d} y \mathop{}\!\mathrm{d} z & \mathop{}\!\mathrm{d} z \mathop{}\!\mathrm{d} x & \mathop{}\!\mathrm{d} x \mathop{}\!\mathrm{d} y \\

   \dfrac{\partial }{\partial x} & \dfrac{\partial }{\partial y} & \dfrac{\partial }{\partial z} \\
   P & Q & R
\end{vmatrix} \\
&=
\iint_{\Sigma} 
\begin{vmatrix}
   \cos \alpha & \cos \beta & \cos \gamma \\

   \dfrac{\partial }{\partial x} & \dfrac{\partial }{\partial y} & \dfrac{\partial }{\partial z} \\
   P & Q & R
\end{vmatrix}
\mathop{}\!\mathrm{d} S 
\end{aligned}
$$
# 第一类曲面积分
对面积的曲面积分：积分域为曲面，积分函数为标量函数的积分，微元为 $\mathop{}\!\mathrm{d} S$。
$$
\iint_\Sigma f(x, y, z) \mathop{}\!\mathrm{d} S 
$$

## 计算方法
1. 观察是否可以使用对称性
2. 尝试代入曲面方程
3. 二重积分法
   $$
   \iint_\Sigma f(x, y, z) \mathop{}\!\mathrm{d} S =\iint_D f\left[ x, y, \varphi(x, y) \right] \sqrt{1 + (\dfrac{\partial z}{\partial x})^2 + (\dfrac{\partial z}{\partial y})^2} \mathop{}\!\mathrm{d} x \mathop{}\!\mathrm{d} y 
   $$
   
# 第二类曲面积分
对坐标的曲面积分：积分域为曲面，积分函数为向量函数的积分，微元为 $\mathop{}\!\mathrm{d} \vec{S} = \left\{ \mathop{}\!\mathrm{d} y \mathop{}\!\mathrm{d} z, \mathop{}\!\mathrm{d} z \mathop{}\!\mathrm{d} x , \mathop{}\!\mathrm{d} x \mathop{}\!\mathrm{d} y \right \}$ 
$$
\iint_{\Sigma}^{} P \mathop{}\!\mathrm{d} y \mathop{}\!\mathrm{d} z + Q \mathop{}\!\mathrm{d} z \mathop{}\!\mathrm{d} x + R \mathop{}\!\mathrm{d} x \mathop{}\!\mathrm{d} y
$$



## 高斯公式
设 $\Omega$ 为几何体，$\Sigma$ 为 $\Omega$ 的外侧曲面，$P, Q, R$ 在 $\Omega$ 上一阶连续可偏导，则： 
$$
\oiint_\Sigma P \mathop{}\!\mathrm{d} y \mathop{}\!\mathrm{d} z + Q \mathop{}\!\mathrm{d} z \mathop{}\!\mathrm{d} x + R \mathop{}\!\mathrm{d} x \mathop{}\!\mathrm{d} y = \iiint_\Omega \frac{\partial P}{\partial x} + \frac{\partial Q}{\partial y} + \frac{\partial R}{\partial z} \mathop{}\!\mathrm{d} v 
$$


两类曲面积分之间的关系
$$
\iint_\Omega P \mathop{}\!\mathrm{d} y \mathop{}\!\mathrm{d} z + Q \mathop{}\!\mathrm{d} z \mathop{}\!\mathrm{d} x + R \mathop{}\!\mathrm{d} x \mathop{}\!\mathrm{d} y = \iint_\Omega (P \cos \alpha  + Q \cos \beta + R \cos \gamma) \mathop{}\!\mathrm{d} S 
$$
